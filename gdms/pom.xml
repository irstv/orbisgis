<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
        <parent>
                <artifactId>orbisgis-monomap</artifactId>
                <groupId>org.orbisgis</groupId>
                <version>4.0-SNAPSHOT</version>
        </parent>
        <modelVersion>4.0.0</modelVersion>
        <groupId>org.gdms</groupId>
        <artifactId>gdms</artifactId>
        <packaging>jar</packaging>
        <version>2.0-SNAPSHOT</version>
        <name>gdms</name>
        <url>http://www.orbisgis.org</url>
        <repositories>  
                <repository>  
                        <id>IRSTV</id>  
                        <name>IRSTV repository</name>  
                        <url>http://repo.orbisgis.org</url>  
                </repository>  
                <repository>
            <id>osgeo</id>
            <name>Open Source Geospatial Foundation Repository</name>
            <url>http://download.osgeo.org/webdav/geotools/</url>
                </repository>
        </repositories>  
        <properties>
                <netbeans.hint.license>Gdms</netbeans.hint.license>
        </properties>
        <dependencies>
                <dependency>
                        <groupId>hsqldb</groupId>
                        <artifactId>hsqldb</artifactId>
                        <version>1.8.0.10</version>
                        <scope>runtime</scope>
                </dependency>
                <dependency>
                        <groupId>org.postgis</groupId>
                        <artifactId>postgis</artifactId>
                        <version>1.3.1</version>
                </dependency>
                <dependency>
                        <groupId>org.postgresql</groupId>
                        <artifactId>postgresql</artifactId>
                        <version>8.2</version>
                </dependency>
                <dependency>
                        <groupId>javax.xml.bind</groupId>
                        <artifactId>jaxb-api</artifactId>
                        <version>2.2.4</version>
                </dependency>
                <dependency>
                        <groupId>biz.source_code</groupId>
                        <artifactId>base64coder</artifactId>
                        <version>2010-12-19</version>
                </dependency>
                <dependency>
                        <groupId>net.sf.opencsv</groupId>
                        <artifactId>opencsv</artifactId>
                        <version>2.3</version>
                </dependency>
                <dependency>
                        <groupId>org.grap</groupId>
                        <artifactId>grap</artifactId>
                        <version>1.4.3-SNAPSHOT</version>
                </dependency>
                <dependency>
                        <groupId>org.gdms.test</groupId>
                        <artifactId>gdmstest</artifactId>
                        <version>0.5-SNAPSHOT</version>
                        <scope>test</scope>
                </dependency>
                <dependency>
                        <groupId>org.scala-lang</groupId>
                        <artifactId>scala-library</artifactId>
                        <version>2.9.2</version>
                </dependency>
                <dependency>
                        <groupId>org.antlr</groupId>
                        <artifactId>antlr</artifactId>
                        <version>3.4</version>
                </dependency>
                <dependency>
                        <groupId>org.jdelaunay</groupId>
                        <artifactId>jdelaunay</artifactId>
                        <version>0.5.1-SNAPSHOT</version>
                </dependency>
                <dependency>
                        <groupId>com.fasterxml.jackson.core</groupId>
                        <artifactId>jackson-core</artifactId>
                        <version>2.0.4</version>
                </dependency>
                <dependency>
                        <groupId>org.orbisgis</groupId>
                        <artifactId>remoteServiceApi</artifactId>
                        <version>1.0-SNAPSHOT</version>
                        <type>jar</type>
                </dependency>
                <dependency>
                        <groupId>org.geotools</groupId>
                        <artifactId>gt-epsg-hsql</artifactId>
                        <version>8.2</version>
                </dependency>
                <dependency>
                        <groupId>org.geotools</groupId>
                        <artifactId>gt-api</artifactId>
                        <version>8.2</version>
                </dependency>
        </dependencies>
        <build>
                <plugins>
                        <plugin>
                            <groupId>org.apache.felix</groupId>
                            <artifactId>maven-bundle-plugin</artifactId>
                            <version>2.3.7</version>
                            <extensions>true</extensions>
                            <executions>
                                <execution>
                                    <id>bundle-manifest</id>
                                    <phase>process-classes</phase>
                                    <goals>
                                        <goal>manifest</goal>
                                    </goals>
                                </execution>
                            </executions>
                            <configuration>
                                <instructions>
                                    <Export-Package>org.gdms.data.*, org.gdms.sql.function.*</Export-Package>
                                    <Private-Package>org.gdms.*</Private-Package>
                                    <Bundle-Vendor>IRSTV - FR CNRS 2488</Bundle-Vendor>
                                </instructions>
                            </configuration>
                        </plugin>
                        <plugin>
                                <groupId>org.antlr</groupId>
                                <artifactId>antlr3-maven-plugin</artifactId>
                                <version>3.4</version>
                                <executions>
                                        <execution>
                                                <goals>
                                                        <goal>antlr</goal>
                                                </goals>
                                        </execution>
                                </executions>
                        </plugin>
                        <plugin>
                                <groupId>org.apache.maven.plugins</groupId>
                                <artifactId>maven-compiler-plugin</artifactId>
                                <version>2.3.2</version>
                                <configuration>
                                        <source>1.6</source>
                                        <target>1.6</target>
                                        <showWarnings>true</showWarnings>
                                </configuration>
                        </plugin>
                        <plugin>
                                <groupId>net.alchim31.maven</groupId>
                                <artifactId>scala-maven-plugin</artifactId>
                                <version>3.1.0</version>
                                <executions>
                                        <execution>
                                                <id>scala-compile-first</id>
                                                <phase>process-resources</phase>
                                                <goals>
                                                        <goal>add-source</goal>
                                                        <goal>compile</goal>
                                                </goals>
                                        </execution>									
                                        <execution>
                                                <id>scala-test-compile</id>
                                                <phase>process-test-resources</phase>
                                                <goals>
                                                        <goal>testCompile</goal>
                                                </goals>
                                        </execution>
                                </executions>
                                <configuration>
                                        <args>
                                                <arg>-unchecked</arg>
                                                <arg>-Xlint</arg>
                                                <arg>-Ywarn-all</arg>
                                        </args>
                                </configuration>
                        </plugin>
                        <plugin>
                                <groupId>org.apache.maven.plugins</groupId>
                                <artifactId>maven-jar-plugin</artifactId>
                                <version>2.4</version>
                                <configuration>
                                        <archive>
                                                <manifest>
                                                        <mainClass>org.gdms.tool.Shell</mainClass>
                                                </manifest>
                                                <manifestFile>${project.build.outputDirectory}/META-INF/MANIFEST.MF</manifestFile>
                                        </archive>
                                </configuration>
                        </plugin>
                        <plugin>
                                <artifactId>maven-assembly-plugin</artifactId>
                                <version>2.3</version>
                                <configuration>
                                        <archive>
                                                <manifest>
                                                        <mainClass>org.gdms.tool.Shell</mainClass>
                                                </manifest>
                                        </archive>
                                        <descriptors>
                                                <descriptor>src/main/assembly/jar.xml</descriptor>
                                        </descriptors>
                                </configuration>
                        </plugin>
                        <plugin>
                                <groupId>org.apache.maven.plugins</groupId>
                                <artifactId>maven-surefire-plugin</artifactId>
                                <version>2.12</version>
                                <configuration>
                                        <parallel>both</parallel>
                                        <threadCount>2</threadCount>
                                        <includes>
                                                <include>**/*Test.java</include>
                                        </includes>
                                </configuration>
                        </plugin>
                        <plugin>
                                <groupId>org.apache.maven.plugins</groupId>
                                <artifactId>maven-site-plugin</artifactId>
                                <version>3.1</version>
                                <configuration>
                                        <reportPlugins>
                                                <plugin>
                                                        <groupId>net.alchim31.maven</groupId>
                                                        <artifactId>scala-maven-plugin</artifactId>
                                                        <version>3.0.2</version>
                                                        <configuration>
                                                                <args>
                                                                        <arg>-doc-source-url</arg>
                                                                        <arg>file://€{FILE_PATH}.scala</arg>
                                                                </args>
                                                        </configuration>
                                                </plugin>
                                        </reportPlugins>
                                </configuration>
                        </plugin>
                        <plugin>
                                <groupId>org.codehaus.mojo</groupId>
                                <artifactId>buildnumber-maven-plugin</artifactId>
                                <version>1.1</version>
                                <configuration>
                                        <revisionOnScmFailure>${version}</revisionOnScmFailure>
                                </configuration>
                                <executions>
                                        <execution>
                                                <phase>validate</phase>
                                                <goals>
                                                        <goal>create</goal>
                                                </goals>
                                        </execution>
                                </executions>
                        </plugin>
                </plugins>
                <resources>
                        <resource>
                                 <!-- Filtering to include the git SHA1 -->
                                <directory>${basedir}/src/main/resources/</directory>
                                <filtering>true</filtering>
                        </resource>
                </resources>
        </build>
        <profiles>
                <profile>
                        <id>incremental</id>
                        <build>
                                <plugins>
                                        <plugin>
                                                <groupId>net.alchim31.maven</groupId>
                                                <artifactId>scala-maven-plugin</artifactId>
                                                <version>3.1.0</version>
                                                <executions>
                                                        <execution>
                                                                <id>scala-compile-first</id>
                                                                <phase>process-resources</phase>
                                                                <goals>
                                                                        <goal>add-source</goal>
                                                                        <goal>compile</goal>
                                                                </goals>
                                                        </execution>									
                                                        <execution>
                                                                <id>scala-test-compile</id>
                                                                <phase>process-test-resources</phase>
                                                                <goals>
                                                                        <goal>testCompile</goal>
                                                                </goals>
                                                        </execution>
                                                </executions>
                                                <configuration>
                                                        <recompileMode>incremental</recompileMode>
                                                        <useZincServer>true</useZincServer>
                                                </configuration>
                                        </plugin>
                                </plugins>
                        </build>
                </profile>
                <profile>
                        <id>coverage</id>
                        <repositories>
                                <repository>
                                        <id>scct repository</id>
                                        <url>http://mtkopone.github.com/scct/maven-repo</url>
                                </repository>
                        </repositories>
                        <dependencies>
                                <dependency>
                                        <groupId>reaktor</groupId>
                                        <artifactId>scct_2.9.1</artifactId>
                                        <version>0.1-SNAPSHOT</version>
                                </dependency>
                        </dependencies>
                        <build>
                                <plugins>
                                        <plugin>
                                                <groupId>org.apache.maven.plugins</groupId>
                                                <artifactId>maven-surefire-plugin</artifactId>
                                                <version>2.12</version>
                                                <configuration>
                                                        <systemPropertyVariables>
                                                                <scct.project.name>${project.name}</scct.project.name>
                                                                <scct.coverage.file>${project.build.outputDirectory}/coverage.data</scct.coverage.file>
                                                                <scct.report.dir>${project.build.directory}/coverage-report</scct.report.dir>
                                                                <scct.source.dir>${project.build.sourceDirectory}</scct.source.dir>
                                                        </systemPropertyVariables>
                                                </configuration>
                                        </plugin>
                                        <plugin>
                                                <groupId>org.scala-tools</groupId>
                                                <artifactId>maven-scala-plugin</artifactId>
                                                <configuration>
                                                        <compilerPlugins>
                                                                <compilerPlugin>
                                                                        <groupId>reaktor</groupId>
                                                                        <artifactId>scct_2.9.1</artifactId>
                                                                        <version>0.1-SNAPSHOT</version>
                                                                </compilerPlugin>
                                                        </compilerPlugins>
                                                </configuration>
                                        </plugin>
                                </plugins>
                        </build>
                </profile>
        </profiles>
</project>


